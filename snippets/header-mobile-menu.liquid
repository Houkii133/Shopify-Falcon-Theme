{% comment %}
  Â© 2025 KondaSoft
  https://www.kondasoft.com
{% endcomment %}

<div
  id="header-mobile-menu"
  class="{{ block.settings.menu_color_scheme | prepend: 'color-' }}"
  hidden
>
  <div id="header-mobile-menu-inner">
    <nav
      id="header-mobile-nav"
      style="
        --font-size: {{ block.settings.font_size | divided_by: 100.0 | append: 'rem' }};
        --text-transform: {{ block.settings.text_transform }};
        --letter-spacing: {{ block.settings.letter_spacing | divided_by: 100.0 | append: 'rem' }};
        --border-opacity: {{ block.settings.border_opacity | append: '%' }};
        --vertical-spacing: {{ block.settings.vertical_spacing | append: 'rem' }};
      "
    >
      <ul data-level="1">
        {% for link in linklists[block.settings.menu].links %}
          {% if link.levels == 0 %}
            <li style="--index: {{ forloop.index }};">
              <a
                href="{{ link.url }}"
                class="{% if link.active %}active{% endif %}"
                aria-current="{% if link.active %}page{% endif %}"
              >
                {{ link.title }}
              </a>
            </li>
          {% else %}
            <li style="--index: {{ forloop.index }};">
              <a
                href="#"
                class="has-arrow-right {% if link.active or link.child_active %}active{% endif %}"
                aria-current="{% if link.active %}page{% endif %}"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="header-mobile-menu-dropdown-level-2-{{ forloop.index }}"
                role="button"
              >
                {{ link.title }}
                {% render 'svg-icons', icon: 'arrow-right', size: 16, stroke_width: 1.5 %}
              </a>
              <div
                id="header-mobile-menu-dropdown-level-2-{{ forloop.index }}"
                class="mobile-nav-dropdown"
              >
                <a
                  href="#"
                  class="has-arrow-left"
                  aria-expanded="true"
                  aria-controls="header-mobile-menu-dropdown-level-2-{{ forloop.index }}"
                  data-level="2"
                  role="button"
                >
                  {% render 'svg-icons', icon: 'arrow-left', size: 16, stroke_width: 1.5 %}
                  {{ link.title }}
                </a>
                <ul data-level="2">
                  {% for child_link in link.links %}
                    <li>
                      {% if child_link.levels == 1 %}
                        <a
                          href="#"
                          class="has-arrow-right {% if child_link.active or child_link.child_active %}active{% endif %}"
                          aria-current="{% if child_link.active %}page{% endif %}"
                          aria-haspopup="true"
                          aria-expanded="false"
                          aria-controls="header-mobile-menu-dropdown-level-3-{{ forloop.index }}"
                          data-level="2"
                          role="button"
                        >
                          {{ child_link.title }}
                          {% render 'svg-icons', icon: 'arrow-right', size: 16, stroke_width: 1.5 %}
                        </a>
                        <div
                          id="header-mobile-menu-dropdown-level-3-{{ forloop.index }}"
                          class="mobile-nav-dropdown"
                        >
                          <a
                            href="#"
                            class="has-arrow-left"
                            aria-expanded="true"
                            aria-controls="header-mobile-menu-dropdown-level-3-{{ forloop.index }}"
                            role="button"
                          >
                            {% render 'svg-icons', icon: 'arrow-left', size: 16, stroke_width: 1.5 %}
                            {{ child_link.title }}
                          </a>
                          <ul data-level="3">
                            {% for child_child_link in child_link.links %}
                              <li>
                                <a
                                  href="{{ child_child_link.url }}"
                                  class="{% if child_child_link.active %}active{% endif %}"
                                  aria-current="{% if child_child_link.active %}page{% endif %}"
                                >
                                  {{ child_child_link.title }}
                                </a>
                              </li>
                            {% endfor %}
                          </ul>
                        </div>
                      {% else %}
                        <a
                          class="{% if child_link.active %}active{% endif %}"
                          href="{{ child_link.url }}"
                          aria-current="{% if child_link.active %}page{% endif %}"
                          data-level="2"
                        >
                          {{ child_link.title }}
                        </a>
                      {% endif %}
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </nav>
    <ul id="header-mobile-secondary-menu">
      {% if shop.customer_accounts_enabled %}
        <li>
          <a
            href="{{ routes.account_url }}"
          >
            <span class="svg-wrapper">
              {% render 'svg-icons', icon: 'account', size: 18, stroke_width: block.settings.icons_stroke_width %}
            </span>
            {{ 'general.account' | t }}
          </a>
        </li>
      {% endif %}
      {% if settings.wishlist %}
        <li>
          <a
            href="#"
          >
            <span class="svg-wrapper">
              {% render 'svg-icons', icon: 'heart', size: 18, stroke_width: block.settings.icons_stroke_width %}
            </span>
            {{ 'general.wishlist.wishlist' | t }}
          </a>
        </li>
      {% endif %}
      {% if localization.available_languages.size > 1 %}
        <li>
          <a
            href="#"
            data-open-dialog="languages-modal"
            aria-controls="languages-modal"
            aria-haspopup="dialog"
            role="button"
          >
            <span class="svg-wrapper">
              {% assign globe_stroke_width = block.settings.icons_stroke_width | minus: 0.4 %}
              {% render 'svg-icons', icon: 'globe', size: 18, stroke_width: globe_stroke_width %}
            </span>
            <span class="visually-hidden">
              {{ 'general.localization.language' | t }}
            </span>
            <span>
              {{- localization.language.endonym_name | capitalize }}
              <small> ({{ localization.language.iso_code }}) </small>
            </span>
          </a>
        </li>
      {% endif %}
      {% if localization.available_countries.size > 1 %}
        <li>
          <a
            href="#"
            data-open-dialog="countries-modal"
            aria-controls="countries-modal"
            aria-haspopup="dialog"
            role="button"
          >
            <span class="img-wrapper" aria-hidden="true">
              {{ localization.country | image_url: width: 18, height: 18 | image_tag: loading: 'lazy' }}
            </span>
            <span class="visually-hidden">
              {{ 'general.localization.country' | t }}
            </span>
            <span>
              {{- localization.country.name }}
              <small>
                ({{ localization.country.currency.iso_code }}
                {{ localization.country.currency.symbol }})
              </small>
            </span>
          </a>
        </li>
      {% endif %}
    </ul>
  </div>
  <div class="footer">
    <div class="footer-inner">
      {% if block.settings.show_social_icons %}
        {% render 'social-icons', icon_size: block.settings.social_icons_size %}
      {% endif %}
    </div>
  </div>
</div>
<div id="header-mobile-menu-backdrop" hidden></div>
