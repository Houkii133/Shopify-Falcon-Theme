{% comment %}
  Â© 2025 KondaSoft
  https://www.kondasoft.com
{% endcomment %}

<div
  id="cart-block-{{ block.id }}"
  class="cart-block"
  data-type="{{ block.type }}"
  data-is-collapse-block="true"
  {{ block.shopify_attributes }}
>
  <collapse-component>
    <details>
      <summary>
        <span>
          {% render 'svg-icons', icon: 'edit', size: 16, stroke_width: 1.5 %}
          {{ block.settings.title }}
        </span>
        {% render 'svg-icons', icon: 'chevron-down', size: 16, stroke_width: 1.5 %}
      </summary>
      <div class="collapse-content">
        <div class="collapse-content-inner">
          <cart-note class="cart-note">
            <form method="post" action="{{ routes.cart_update_url }}">
              <textarea
                class="textarea"
                rows="3"
                name="note"
                value="{{ cart.note }}"
                placeholder="{{ 'cart.note.label' | t }}"
                aria-labelledby="cart-note-title"
              >{{ cart.note }}</textarea>
              <button
                type="submit"
                class="btn btn-sm btn-full {{ block.settings.btn_style }}"
                data-text-note-saved="{{ 'cart.note.saved' | t }}"
                data-text-btn-save="{{ 'cart.note.button' | t }}"
              >
                {{ 'cart.note.button' | t }}
              </button>
            </form>
          </cart-note>
        </div>
      </div>
    </details>
  </collapse-component>
</div>
