{% comment %}
  Â© 2025 KondaSoft
  https://www.kondasoft.com
{% endcomment %}

{% if localization.available_countries.size > 1 %}
  <dialog
    id="countries-modal"
    class="dialog modal"
    aria-labelledby="countries-modal-title"
  >
    <dialog-component class="dialog-inner">
      <div class="dialog-header">
        <h2 id="countries-modal-title" class="dialog-title">
          {{ 'general.localization.countries' | t }}
        </h2>
        <button
          class="dialog-close"
          data-dialog-close
          aria-label="{{ 'accessibility.close' | t }}"
        >
          {% render 'svg-icons', icon: 'x', size: 20, stroke_width: 1.5 %}
        </button>
      </div>
      <div class="dialog-body">
        <ul class="localization-list list-unstyled">
          {% for country in localization.available_countries %}
            <li>
              <a
                class="{% if country.iso_code == localization.country.iso_code %}active{% endif %}"
                href="{{ routes.root_url }}?country={{ country.iso_code | downcase }}"
                aria-current="{% if country.iso_code == localization.country.iso_code %}true{% endif %}"
              >
                <span class="img-wrapper" aria-hidden="true">
                  {{ country | image_url: width: 20, height: 20 | image_tag: loading: 'lazy' }}
                </span>
                <span class="text-wrapper">
                  {{ country.name }}
                  <small> {{ country.currency.iso_code }} ({{ country.currency.symbol }}) </small>
                </span>
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </dialog-component>
  </dialog>
{% endif %}
