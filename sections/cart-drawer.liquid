{% comment %}
  Â© 2025 KondaSoft
  https://www.kondasoft.com
{% endcomment %}

<dialog
  id="cart-drawer"
  class="dialog drawer drawer-right drawer-wide"
  aria-labelledby="cart-drawer-title"
>
  <dialog-component class="dialog-inner">
    <div class="dialog-header">
      <h2 id="cart-drawer-title" class="dialog-title">
        {{ 'cart.title' | t: count: cart.item_count }}
      </h2>
      <button
        class="dialog-close"
        data-dialog-close
        aria-label="{{ 'accessibility.close' | t }}"
      >
        {% render 'svg-icons', icon: 'x', size: 20, stroke_width: 1.5 %}
      </button>
    </div>
    <div class="dialog-body">
      {% render 'cart-alert' %}
      <cart-component
        id="cart-component"
        data-route-add="{{ routes.cart_add_url }}"
        data-route-change="{{ routes.cart_change_url }}"
      >
        {% liquid
          for block in section.blocks
            case block.type
              when 'items'
                render 'cart-items', block: block
              when 'announcement'
                render 'cart-announcement', block: block
              when 'goal'
                render 'cart-goal', block: block
              when 'upsells'
                render 'cart-upsells', block: block
              when 'note'
                render 'cart-note', block: block
              when 'gift_upsell'
                render 'cart-gift-upsell', block: block
              when 'discount_form'
                render 'cart-discount-form', block: block
              when 'shipping_calculator'
                render 'cart-shipping-calculator', block: block
              when 'delivery_date'
                render 'cart-delivery-date', block: block
            endcase
          endfor
        %}
      </cart-component>
    </div>
    <div
      class="dialog-footer"
      {% if cart.item_count == 0 %}
        hidden
      {% endif %}
    >
      {% render 'cart-footer' %}
    </div>
  </dialog-component>
</dialog>

<div id="cart-items-variant-switcher-modals">
  {% render 'cart-items-variant-switcher' %}
</div>

{% schema %}
{
  "name": "Cart drawer",
  "settings": [
    {
      "type": "header",
      "content": "Footer"
    },
    {
      "type": "checkbox",
      "id": "dynamic_buttons",
      "label": "Show dynamic buttons",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "taxes_shipping",
      "label": "Show \"Taxes and shipping\" text",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "continue_btn",
      "label": "Show \"Continue shopping\" button",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "payment_icons",
      "label": "Show payment icons",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "items",
      "name": "Cart Items",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "variant_switcher",
          "label": "Show variant switcher",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "upgrade_to_sub",
          "label": "Upgrade to subscription switcher",
          "default": true
        },
        {
          "type": "range",
          "id": "low_stock_threshold",
          "label": "\"Low stock\" threshold",
          "info": "Select 0 to disable this feature",
          "default": 5,
          "min": 0,
          "max": 20,
          "step": 1
        },
        {
          "type": "header",
          "content": "Spacing"
        },
        {
          "type": "range",
          "id": "padding_top",
          "label": "Top",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        },
        {
          "type": "range",
          "id": "padding_bottom",
          "label": "Bottom",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        }
      ]
    },
    {
      "type": "announcement",
      "name": "Announcement",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "announcement",
          "label": "Description",
          "default": "<p>10% OFF for your first order. Use code <strong>NEW10</strong></p>"
        },
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "Color scheme",
          "default": "scheme-3"
        },
        {
          "type": "select",
          "id": "font_size",
          "label": "Font size",
          "default": "fs-sm",
          "options": [
            { "value": "fs-xs", "label": "xs" },
            { "value": "fs-sm", "label": "sm" },
            { "value": "fs-md", "label": "md" },
            { "value": "fs-lg", "label": "lg" },
            { "value": "fs-xl", "label": "xl" }
          ]
        },
        {
          "type": "header",
          "content": "Spacing"
        },
        {
          "type": "range",
          "id": "padding_top",
          "label": "Top",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        },
        {
          "type": "range",
          "id": "padding_bottom",
          "label": "Bottom",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        }
      ]
    },
    {
      "type": "goal",
      "name": "Cart goal",
      "limit": 1,
      "settings": [
        {
          "type": "color",
          "id": "color",
          "label": "Color",
          "default": "#9E0812"
        },
        {
          "type": "range",
          "id": "progress_height",
          "label": "Progress bar height",
          "default": 8,
          "min": 2,
          "max": 24,
          "step": 2,
          "unit": "px"
        },
        {
          "type": "richtext",
          "id": "desc_completed",
          "label": "Description - Goals are completed",
          "default": "<p>Congrats! You're eligible for <strong>ALL OFFERINGS.<\/strong><\/p>"
        },
        {
          "type": "header",
          "content": "Goal 1"
        },
        {
          "type": "textarea",
          "id": "goal_one_value",
          "label": "Goal value",
          "info": "Comma-separated list of currencies with their respective goal value. E.g USD:100, EUR:90. Leave empty to disable",
          "default": "USD:100, EUR:90"
        },
        {
          "type": "text",
          "id": "goal_one_title",
          "label": "Title",
          "default": "Free Shipping"
        },
        {
          "type": "select",
          "id": "goal_one_icon",
          "label": "Icon",
          "default": "truck",
          "options": [
            { "value": "award", "label": "Award" },
            { "value": "smile", "label": "Smile" },
            { "value": "star", "label": "Star" },
            { "value": "percent", "label": "Percent" },
            { "value": "truck", "label": "Truck" },
            { "value": "gift", "label": "Gift" },
            { "value": "heart", "label": "Heart" },
            { "value": "cart", "label": "Cart" }
          ]
        },
        {
          "type": "richtext",
          "id": "goal_one_desc",
          "label": "Description",
          "default": "<p>You're <strong>[amount]<\/strong> away from <strong>FREE SHIPPING!<\/strong><\/p>"
        },
        {
          "type": "header",
          "content": "Goal 2"
        },
        {
          "type": "textarea",
          "id": "goal_two_value",
          "label": "Goal value",
          "info": "Comma-separated list of currencies with their respective goal value. E.g USD:100, EUR:90. Leave empty to disable"
        },
        {
          "type": "text",
          "id": "goal_two_title",
          "label": "Title",
          "default": "Free Gift"
        },
        {
          "type": "select",
          "id": "goal_two_icon",
          "label": "Icon",
          "default": "gift",
          "options": [
            { "value": "award", "label": "Award" },
            { "value": "smile", "label": "Smile" },
            { "value": "star", "label": "Star" },
            { "value": "percent", "label": "Percent" },
            { "value": "truck", "label": "Truck" },
            { "value": "gift", "label": "Gift" },
            { "value": "heart", "label": "Heart" },
            { "value": "cart", "label": "Cart" }
          ]
        },
        {
          "type": "richtext",
          "id": "goal_two_desc",
          "label": "Description",
          "default": "<p>You're <strong>[amount]<\/strong> away from a <strong>FREE GIFT!<\/strong><\/p>"
        },
        {
          "type": "header",
          "content": "Goal 3"
        },
        {
          "type": "textarea",
          "id": "goal_three_value",
          "label": "Goal value",
          "info": "Comma-separated list of currencies with their respective goal value. E.g USD:100, EUR:90. Leave empty to disable"
        },
        {
          "type": "text",
          "id": "goal_three_title",
          "label": "Title",
          "default": "30% Off"
        },
        {
          "type": "select",
          "id": "goal_three_icon",
          "label": "Icon",
          "default": "percent",
          "options": [
            { "value": "award", "label": "Award" },
            { "value": "smile", "label": "Smile" },
            { "value": "star", "label": "Star" },
            { "value": "percent", "label": "Percent" },
            { "value": "truck", "label": "Truck" },
            { "value": "gift", "label": "Gift" },
            { "value": "heart", "label": "Heart" },
            { "value": "cart", "label": "Cart" }
          ]
        },
        {
          "type": "richtext",
          "id": "goal_three_desc",
          "label": "Description",
          "default": "<p>You're <strong>[amount]<\/strong> away from <strong>30% OFF!<\/strong><\/p>"
        },
        {
          "type": "header",
          "content": "Spacing"
        },
        {
          "type": "range",
          "id": "padding_top",
          "label": "Top",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        },
        {
          "type": "range",
          "id": "padding_bottom",
          "label": "Bottom",
          "min": 0,
          "max": 3,
          "step": 0.2,
          "default": 0,
          "unit": "rem"
        }
      ]
    },
    {
      "type": "upsells",
      "name": "Upsells",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "You may like..."
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        },
        {
          "type": "range",
          "id": "limit",
          "label": "Limit products",
          "min": 1,
          "max": 24,
          "default": 5
        },
        {
          "type": "checkbox",
          "id": "show_rating",
          "label": "Show rating badge",
          "default": true
        },
        {
          "type": "select",
          "id": "btn_style",
          "label": "Button style",
          "default": "btn-outline",
          "options": [
            { "value": "btn-primary", "label": "Primary" },
            { "value": "btn-outline", "label": "Outline" },
            { "value": "btn-accent", "label": "Accent" },
            { "value": "btn-link", "label": "Link" }
          ]
        }
      ]
    },
    {
      "type": "note",
      "name": "Note",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Add a note to your order"
        },
        {
          "type": "select",
          "id": "btn_style",
          "label": "Button style",
          "default": "btn-outline",
          "options": [
            { "value": "btn-primary", "label": "Primary" },
            { "value": "btn-outline", "label": "Outline" },
            { "value": "btn-accent", "label": "Accent" },
            { "value": "btn-link", "label": "Link" }
          ]
        }
      ]
    },
    {
      "type": "discount_form",
      "name": "Discount form",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Apply a discount code"
        },
        {
          "type": "select",
          "id": "btn_style",
          "label": "Button style",
          "default": "btn-outline",
          "options": [
            { "value": "btn-primary", "label": "Primary" },
            { "value": "btn-outline", "label": "Outline" },
            { "value": "btn-accent", "label": "Accent" },
            { "value": "btn-link", "label": "Link" }
          ]
        }
      ]
    },
    {
      "type": "gift_upsell",
      "name": "Gift upsell",
      "limit": 1,
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Add gift wrapping"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Wrap as gifts the items in the cart for only <strong>only [price]<\/strong><\/p>"
        },
        {
          "type": "select",
          "id": "btn_style",
          "label": "Button style",
          "default": "btn-outline",
          "options": [
            { "value": "btn-primary", "label": "Primary" },
            { "value": "btn-outline", "label": "Outline" },
            { "value": "btn-accent", "label": "Accent" },
            { "value": "btn-link", "label": "Link" }
          ]
        }
      ]
    },
    {
      "type": "shipping_calculator",
      "name": "Shipping calculator",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Calculate shipping"
        },
        {
          "type": "select",
          "id": "btn_style",
          "label": "Button style",
          "default": "btn-outline",
          "options": [
            { "value": "btn-primary", "label": "Primary" },
            { "value": "btn-outline", "label": "Outline" },
            { "value": "btn-accent", "label": "Accent" },
            { "value": "btn-link", "label": "Link" }
          ]
        },
        {
          "type": "textarea",
          "id": "allowed_countries",
          "label": "Allowed countries",
          "default": "United States, Canada, United Kingdom, Australia, Germany, France, Italy, Spain, Netherlands",
          "info": "Comma-separated list of countries. Leave empty to allow all countries."
        },
      ]
    },
    {
      "type": "delivery_date",
      "name": "Delivery date",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Select a delivery date"
        },
        {
          "type": "range",
          "id": "min_days",
          "label": "Minimum days from today",
          "default": 0,
          "min": 0,
          "max": 30,
          "step": 1
        }
      ]
    }
  ]
}
{% endschema %}
