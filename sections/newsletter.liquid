{% comment %}
  Â© 2025 KondaSoft
  https://www.kondasoft.com
{% endcomment %}

{% if section.index <= 3 or request.design_mode %}
  <link href="{{ 'newsletter.css' | asset_url }}" rel="stylesheet" fetchpriority="high">
{% endif %}

<div
  id="newsletter-section-{{ section.id }}"
  class="newsletter-section {{ section.settings.color_scheme | prepend: 'color-' }}"
  style="
    --padding-top: {{ section.settings.padding_top | append: 'rem' }};
    --padding-bottom: {{ section.settings.padding_bottom | append: 'rem' }};
  "
  data-viewport-entered="false"
  data-section-css="{{ "newsletter.css" | asset_url }}"
>
  <div class="container">
    {% unless section.settings.heading == blank %}
      <header
        class="section-header scroll-animate-fade-in-up text-{{ section.settings.header_alignment }}"
      >
        {% unless section.settings.heading == blank %}
          <h2
            id="heading-{{ section.id }}"
            class="heading {{ section.settings.heading_size }}"
          >
            {{ section.settings.heading }}
          </h2>
        {% endunless %}
        {% unless section.settings.description == blank %}
          <div class="description rte {{ section.settings.description_size }}">
            {{ section.settings.description }}
          </div>
        {% endunless %}
      </header>
    {% endunless -%}
    {% render 'newsletter-form' %}
    {% unless section.settings.notice == blank %}
      <div
        class="newsletter-notice rte fs-sm  text-{{ section.settings.header_alignment }}"
      >
        {{ section.settings.notice }}
      </div>
    {% endunless %}
  </div>
</div>

{% schema %}
{
  "name": "Newsletter",
  "tag": "section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Header"
    },
    {
      "type": "text_alignment",
      "id": "header_alignment",
      "label": "Alignment",
      "default": "center"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Title",
      "default": "Newsletter Subscribe"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Title font-size",
      "default": "h3",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" }
      ]
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description (optional)",
      "default": "<p>Be the first to know about our latest offers and get exclusive discounts.</p>"
    },
    {
      "type": "select",
      "id": "description_size",
      "label": "Description size",
      "default": "fs-md",
      "options": [
        { "value": "fs-sm", "label": "sm" },
        { "value": "fs-md", "label": "md" },
        { "value": "fs-lg", "label": "lg" },
        { "value": "fs-xl", "label": "xl" }
      ]
    },
    {
      "type": "header",
      "content": "Newsletter form"
    },
    {
      "type": "select",
      "id": "btn_style",
      "label": "Button style",
      "default": "accent",
      "options": [
        { "value": "text", "label": "Text" },
        { "value": "accent", "label": "Accent" },
        { "value": "text-inverted", "label": "Text-inverted" },
        { "value": "accent-inverted", "label": "Accent-inverted" }
      ]
    },
    {
      "type": "richtext",
      "id": "notice",
      "label": "Notice text",
      "default": "<p>By signing up for email, you agree to our <a href=\"/policies/terms-of-service\">Terms of Service</a> and <a href=\"/policies/privacy-policy\">Privacy Policy</a>.</p>"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top",
      "min": 0,
      "max": 5,
      "step": 0.2,
      "default": 2,
      "unit": "rem"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom",
      "min": 0,
      "max": 5,
      "step": 0.2,
      "default": 2,
      "unit": "rem"
    }
  ],
  "presets": [
    {
      "name": "Newsletter",
      "category": "Promotional",
    }
  ]
}
{% endschema %}
